<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DPR Dashboard</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="dpr-fetch-viewer.css">
</head>
<body>
    <div class="dashboard">
        <div class="dashboard-header">
            <div class="dashboard-title">Daily Progress Report</div>
            <div class="report-date">Report Date: <span id="report_date">May 15, 2023</span></div>
        </div>
        
        <div class="dashboard-grid">
            <!-- Project Information Card -->
            <div class="card">
                <div class="card-header">
                    <div class="card-title">Project Information</div>
                </div>
                <div class="project-info">
                    <div class="info-item">
                        <div class="info-label">Name of Work</div>
                        <div class="info-value" id="project_name">---</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Employer</div>
                        <div class="info-value" id="Employer">---</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Contract No</div>
                        <div class="info-value" id="contract_no">---</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Location</div>
                        <div class="info-value" id="location">---</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Start Date</div>
                        <div class="info-value" id="start_date">---</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Completion Date</div>
                        <div class="info-value" id="end_date">---</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Duration (Days)</div>
                        <div class="info-value" id="total_days">---</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Days Remaining</div>
                        <div class="info-value" id="days_left">---</div>
                    </div>
                </div>
            </div>
            
            <!-- Site Conditions Card -->
            <div class="card">
                <div class="card-header">
                    <div class="card-title">Site Conditions</div>
                </div>
                <div class="site-conditions">
                    <div class="condition-item">
                        <div class="condition-checkbox" id="normal-day-checkbox"></div>
                        <div class="condition-label">Normal Day</div>
                    </div>
                    <div class="condition-item">
                        <div class="condition-checkbox" id="rainy-day-checkbox"></div>
                        <div class="condition-label">Rainy Day</div>
                    </div>
                    <div class="condition-item">
                        <div class="condition-checkbox" id="slushy-day-checkbox"></div>
                        <div class="condition-label">Slushy</div>
                    </div>
                    <div class="condition-item">
                        <div class="condition-checkbox" id="dry-day-checkbox"></div>
                        <div class="condition-label">Dry</div>
                    </div>
                </div>
                
                <div style="margin-top: 20px;">
                    <div class="info-label" style="color: black;">Time Slots</div>
                    <div id="from-to-container" style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 10px;">
                        <!-- Time slots will be inserted here by JavaScript -->
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Labour Report Card -->
        <div class="card" style="margin-bottom: 20px;">
            <div class="card-header">
                <div class="card-title">Labour Report</div>
            </div>
            <div class="table-container">
  <table id="displayTable">
    <thead>
      <tr id="labourHeaders">
        <th>Agency Name</th>
        <!-- Columns will be added dynamically here -->
        <th>Total</th>
        <th>Remarks</th>
      </tr>
    </thead>
    <tbody>
      <!-- Table data will be inserted here by JavaScript -->
    </tbody>
  </table>
</div>
            <div style="margin-top: 15px; font-size: 13px;">
                <div class="info-label">Cumulative Manpower (until yesterday)</div>
                <div class="info-value" id="cumulative-manpower"></div>
            </div>
        </div>
        
        <!-- Progress Section -->
        <div class="progress-section" style="margin-bottom: 20px;">
            <div class="card">
                <div class="card-header">
                    <div class="card-title">Today's Progress</div>
                </div>
                <table id="today-table">
                    <thead>
                        <tr>
                            <th style="text-align: center;">Task</th>
                            <th>Quantity</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Today's data will be inserted here by JavaScript -->
                    </tbody>
                </table>
            </div>
            
            <div class="card">
                <div class="card-header">
                    <div class="card-title">Tomorrow's Planning</div>
                </div>
                <table id="tomorrow-table">
                    <thead>
                        <tr>
                            <th style="text-align: center;">Task</th>
                            <th>Quantity</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Tomorrow's data will be inserted here by JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>
        
        <!-- Remarks Section -->
        <div class="remarks-section">
            <div class="card">
                <div class="card-header">
                    <div class="card-title">Events & Remarks</div>
                </div>
                <div class="remarks-container" id="events-container">
                    <!-- Events data will be inserted here by JavaScript -->
                </div>
            </div>
            
            <div class="card">
                <div class="card-header">
                    <div class="card-title">General Remarks</div>
                </div>
                <div class="remarks-container" id="remarks-content-container">
                    <!-- Remarks data will be inserted here by JavaScript -->
                </div>
                
                <div class="signature-section">
                    <div class="signature-item">
                        <div>Prepared By</div>
                        <div style="margin-top: 5px; font-weight: 500;" id="prepared-by">MANO PCPL</div>
                    </div>
                    <div class="signature-item">
                        <div>Approved By</div>
                        <div style="margin-top: 5px; font-weight: 500;" id="distribution">GOYAL</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="button-container" style="margin-top: 20px; display: flex; gap: 10px;">
            <button onclick="prepareForPDFPreview()" id="download-pdf" style="padding: 10px 15px; background-color: #3498db; color: white; border: none; border-radius: 5px; cursor: pointer;">SEE PDF PREVIEW</button>
            <!-- <button onclick="window.history.back()" style="padding: 10px 15px; background-color: #f39c12; color: white; border: none; border-radius: 5px; cursor: pointer;">MAKE CHANGES</button> -->
            <!-- <button onclick="postDPRToBackend()" style="padding: 10px 15px; background-color: #27ae60; color: white; border: none; border-radius: 5px; cursor: pointer;">UPLOAD THE DPR</button> -->
        </div>
    </div>

    <script src="dpr-fetch-viewer.js"></script>
</body>
</html>